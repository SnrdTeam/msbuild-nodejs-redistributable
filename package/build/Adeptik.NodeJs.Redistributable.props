<?xml version="1.0" encoding="utf-8" standalone="no"?>

<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- Detect Operating System -->
  <PropertyGroup>
    <NodeJsDistOS Condition="$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Windows)))">win</NodeJsDistOS>
    <NodeJsDistOS Condition="$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::OSX)))">darwin</NodeJsDistOS>
    <NodeJsDistOS Condition="$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Linux)))">linux</NodeJsDistOS>
  </PropertyGroup>

  <!-- Detect Operating System architecture -->
  <PropertyGroup>
    <NodeJsDistOSArchitecture Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::OSArchitecture)' == 'Arm'">armv7l</NodeJsDistOSArchitecture>
    <NodeJsDistOSArchitecture Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::OSArchitecture)' == 'Arm64'">arm64</NodeJsDistOSArchitecture>
    <NodeJsDistOSArchitecture Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::OSArchitecture)' == 'X64'">x64</NodeJsDistOSArchitecture>
    <NodeJsDistOSArchitecture Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::OSArchitecture)' == 'X86'">x86</NodeJsDistOSArchitecture>
  </PropertyGroup>
  
  <!-- NodeJs distribution urls and cache directories, state etc. -->
  <PropertyGroup>
    <NodeJsReleaseDownloadUrl Condition="'$(NodeJsReleaseDownloadUrl)' == ''">https://nodejs.org/download/release</NodeJsReleaseDownloadUrl>
    
    <NodeJsDistTempPath Condition="'$(NodeJsDistTempPath)' == ''">$([MSBuild]::NormalizeDirectory($([System.IO.Path]::GetTempPath()), 'Adeptik.NodeJs.Redistributable'))</NodeJsDistTempPath>
  </PropertyGroup>

</Project>